<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send message</title>

    <link rel="stylesheet" href="css/main.css">
    <script src="js/functions.js"></script>

</head>
<body>

    <div style="display:grid; grid-template-columns: 1fr auto auto; align-items: center;">
        <h2 >Отправка уведомлений</h2>
        <button id="sign-in" class="button button-outline" >sign-in <img src="images/google-colored.svg" class="social-icon">oogle</button>
        <button id="sign-out" class="button button-outline" style="display:none;"  >sign-out
            <span id="user-email"></span>
        </button>
    </div>


    <b>Тестирование отправки уведомлений</b>. Откройте консоль браузера для просмотра результатов операций.<br><br>

    <div id="main-area" style="display:none;">
        <h4>Отправить сообщение</h4>
        <label for="txt">Текст сообщения</label>
        <input id="txt" type="text"  placeholder="текст сообщения" value="Верховный суд разъяснил, чем угон автомобиля отличается от кражи"/>
        <label for="link">Ссылка</label>
        <input id="link" type="text"  placeholder="ссылка" value="https://rg.ru/2020/03/02/verhovnyj-sud-raziasnil-chem-ugon-avtomobilia-otlichaetsia-ot-krazhi.html"/>
        <br><br>

        <button onclick="sendMessage('/topics/rgru', document.getElementById('txt').value, document.getElementById('link').value)">
            Разослать сообщениe Подписчикам топика 'rgru'
        </button>
        <br><br>
        <input id="to" type="text" value='' placeholder="токен пользователя" />
        <button onclick="sendMessage(document.getElementById('to').value, document.getElementById('txt').value, document.getElementById('link').value)">Послать сообщение пользователю</button>
        
        
        <br><br><br><br>


        <div style="background-color: whitesmoke; padding: 20px;">
            <h4>Подписать на получение сообщений</h4>
            <input id="token" type="text" value='' placeholder="токен для подписки" />
            <button onclick="subscribeToRGRU(document.getElementById('token').value)">Подписать токен на 'rgru'</button>
            <button onclick="unsubscribeFromRGRU(document.getElementById('token').value)" class="button-outline">Отписать токен от 'rgru'</button>
        </div>

        <br><br><br>
        <h4>Отправленные сообщения</h4>

    </div>



<!-- 
    <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase.js"></script>
    <script>
        firebase.initializeApp({
            apiKey: "AIzaSyB1Kb1oqVigcSoVTEb5An0tXgRRygSO6vE",
            authDomain: "rg-push.firebaseapp.com",
            databaseURL: "https://rg-push.firebaseio.com",
            projectId: "rg-push",
            storageBucket: "rg-push.appspot.com",
            messagingSenderId: "666454432034",
            appId: "1:666454432034:web:b2ddca1d2dd1fbbe4dad7b",
            measurementId: "G-RGP6KVRXG5"
        })
    </script>
 -->

    <script src="/__/firebase/7.9.3/firebase.js"></script>
    <script src="/__/firebase/init.js"></script>
    <script src="js/send.js"></script>
  

</body>
</html>